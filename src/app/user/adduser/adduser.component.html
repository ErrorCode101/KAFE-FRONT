<div class="content">
    <div fxLayout="row" fxFlex="100%" fxFlexFill>
        <div fxLayout="column" fxFlex="35%" class="loading-container" fxFlexFill>
            <div class="loading-overlay" *ngIf="isLoading">
                <mat-progress-spinner
                class="loader"
                [color]="'primary'"
                [mode]="'indeterminate'"
                >
                </mat-progress-spinner>
            </div>
            <mat-card class="full-height">
                <h3>Add User</h3>
                <mat-card-subtitle>Add new user to the restaurant</mat-card-subtitle>
                <mat-card-content>
                    <form autocomplete="off" name="form" #f="ngForm" novalidate>


                        <div class="row">
                            <div class="col-md-6">
                                <mat-form-field class="full-width">
                                    <input matInput name="first_name" #first_name="ngModel"  [(ngModel)]="userModel.firstName" placeholder="First Name" required>
                                    <mat-error *ngIf="f.submitted && first_name.errors?.required">First name is required...</mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field class="full-width">
                                    <input matInput name="last_name" #last_name="ngModel"  [(ngModel)]="userModel.lastName" placeholder="Last Name" required>
                                    <mat-error *ngIf="f.submitted && last_name.errors?.required">Last name is required...</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        
                        <mat-form-field class="full-width">
                            <input name="e_mail" type="email" #e_mail="ngModel" matInput placeholder="E-Mail" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" 
                            [(ngModel)]="userModel.username" required>
                            <mat-error *ngIf="f.submitted && e_mail.errors?.required">Email is required...</mat-error>
                            <mat-error *ngIf="!e_mail.errors?.required && e_mail.errors?.pattern">Not a valid E-Mail...</mat-error>
                        </mat-form-field>

                        <mat-form-field class="full-width">
                            <input matInput placeholder="Password" name="password" #password="ngModel"
                            [(ngModel)]="userModel.password"
                            pattern="^(?=\D*\d)(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z]).{1,100}" minlength="5"
                            [type]="hide ? 'password' : 'text'" required>
                            <button mat-icon-button matSuffix (click)="hide = !hide" type="button" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                            <mat-error *ngIf="f.submitted && password.errors?.required">Password is required...</mat-error>
                            <mat-error *ngIf="password.errors?.minlength">Password must have at least 5 characters...</mat-error>
                            <mat-error *ngIf="!password.errors?.minlength && password.errors?.pattern">Password must contain at least 1 Upper case letter, 1 Lower case letter and a number...</mat-error>
                        </mat-form-field>
                        <mat-card-actions>
                            <button class="full-width button-submit" type="submit"
                            (click)="onSubmitButtonClick()" mat-button>Add User</button>
                        </mat-card-actions>
                    </form>
                </mat-card-content>
            </mat-card>
        </div>

        <div fxLayout="column" fxFlex="65%" style="background-color: gray; overflow: hidden;" fxFlexFill>
            <img class="food-background" src="../../../../assets/img/Restaurent/Register/food-background.JPG"/>
        </div>
    </div>
</div>